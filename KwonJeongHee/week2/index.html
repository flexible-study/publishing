<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="./assets/styles/index.css">

  <title>Week 2</title>
</head>
<body>
  <div id="wrap">
    <div class="container">
      <header id="header">
        <h1>header</h1>
        <button class="tab-btn selected" aria-label="개인 정보" value="info">
          <svg width="24" height="25" viewBox="0 0 24 25" fill="none">
            <mask id="mask0_415_115" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="25">
            <rect y="0.5" width="24" height="24" fill="currentColor"/>
            </mask>
            <g mask="url(#mask0_415_115)">
            <path d="M12 12.5C10.9 12.5 9.95833 12.1083 9.175 11.325C8.39167 10.5417 8 9.6 8 8.5C8 7.4 8.39167 6.45833 9.175 5.675C9.95833 4.89167 10.9 4.5 12 4.5C13.1 4.5 14.0417 4.89167 14.825 5.675C15.6083 6.45833 16 7.4 16 8.5C16 9.6 15.6083 10.5417 14.825 11.325C14.0417 12.1083 13.1 12.5 12 12.5ZM4 20.5V17.7C4 17.1333 4.146 16.6123 4.438 16.137C4.72933 15.6623 5.11667 15.3 5.6 15.05C6.63333 14.5333 7.68333 14.1457 8.75 13.887C9.81667 13.629 10.9 13.5 12 13.5C13.1 13.5 14.1833 13.629 15.25 13.887C16.3167 14.1457 17.3667 14.5333 18.4 15.05C18.8833 15.3 19.2707 15.6623 19.562 16.137C19.854 16.6123 20 17.1333 20 17.7V20.5H4Z" fill="currentColor"/>
            </g>
          </svg>          
        </button>
        <button class="tab-btn" aria-label="갤러리" value="gallery">
          <svg width="24" height="25" viewBox="0 0 24 25" fill="none">
            <mask id="mask0_415_109" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="25">
            <rect y="0.5" width="24" height="24" fill="currentColor"/>
            </mask>
            <g mask="url(#mask0_415_109)">
            <path d="M5 22.5C4.16667 22.5 3.45833 22.2083 2.875 21.625C2.29167 21.0417 2 20.3333 2 19.5V5.5C2 4.66667 2.29167 3.95833 2.875 3.375C3.45833 2.79167 4.16667 2.5 5 2.5H19C19.8333 2.5 20.5417 2.79167 21.125 3.375C21.7083 3.95833 22 4.66667 22 5.5V19.5C22 20.3333 21.7083 21.0417 21.125 21.625C20.5417 22.2083 19.8333 22.5 19 22.5H5ZM5 20.5H19C19.2833 20.5 19.5207 20.404 19.712 20.212C19.904 20.0207 20 19.7833 20 19.5V5.5C20 5.21667 19.904 4.979 19.712 4.787C19.5207 4.59567 19.2833 4.5 19 4.5H5C4.71667 4.5 4.479 4.59567 4.287 4.787C4.09567 4.979 4 5.21667 4 5.5V19.5C4 19.7833 4.09567 20.0207 4.287 20.212C4.479 20.404 4.71667 20.5 5 20.5ZM6 18.5L10 14.5L11.8 16.275L14 13.5L18 18.5H6ZM8 10.5C7.45 10.5 6.97933 10.304 6.588 9.912C6.196 9.52067 6 9.05 6 8.5C6 7.95 6.196 7.47933 6.588 7.088C6.97933 6.696 7.45 6.5 8 6.5C8.55 6.5 9.021 6.696 9.413 7.088C9.80433 7.47933 10 7.95 10 8.5C10 9.05 9.80433 9.52067 9.413 9.912C9.021 10.304 8.55 10.5 8 10.5Z" fill="currentColor"/>
            </g>
          </svg>
        </button>
      </header>
      <aside class="featured-image">
        <h2 class="name">Hanna</h2>
        <p class="job">Grepp Inc. <span class="role">FRONTEND</span></p>
      </aside>
      <main id="main">
        <section class="tab-content info-section" data-id="info">
          <h2 class="title">ABOUT ME</h2>
          <dl class="info-list">
            <div class="info-item">
              <dt class="label">Name.</dt>
              <dd class="value">Hanna</dd>
            </div>
            
            <div class="info-item">
              <dt class="label">Email.</dt>
              <dd class="value">grighth12@gmail.com</dd>
            </div>
            
            <div class="info-item">
              <dt class="label">Phone.</dt>
              <dd class="value">010-1234-5678</dd>
            </div>
            
            <div class="info-item">
              <dt class="label">Email</dt>
              <dd class="value">https://github.com/grighth12</dd>
            </div>
          </dl>      
        </section>
        <section class="tab-content gallery-section hide" data-id="gallery">
          <h2 class="title">GALLERY</h2>
          <div class="gallery"></div>
        </section>
      </main>
    </div>
  </div>


  <script>

    const initTabBtns = () => {
      const showSelectedContent = (value) => {
        const tabContents = document.querySelectorAll('.tab-content');

        tabContents.forEach((tabContent) => {
          const { id } = tabContent.dataset;

          id === value ? tabContent.classList.remove('hide') : tabContent.classList.add('hide');
        })
      }

      const tabBtns = document.querySelectorAll('.tab-btn');
      
      tabBtns.forEach((tabBtn) => {
        tabBtn.addEventListener('click', (e) => {          
          tabBtns.forEach((tabBtn) => {
            tabBtn.classList.remove('selected');
          });
          tabBtn.classList.add('selected');

          const { value } = e.target;
          showSelectedContent(value);
        });
      });
    }

    const initGallery = async () => {
      const ACCESS_KEY = "s9isofV-cu8tNXTGQP7pNAYsBuEuSE099iU5s0CT3f8";
      const res = await fetch(`https://api.unsplash.com/photos/random?client_id=${ACCESS_KEY}&count=30`);
      
      if(res.status !== 200) return;

      const data = await res.json();
      const gallery = document.querySelector('.gallery');

      gallery.innerHTML =  data.map((image) => `
          <div class="photo">
            <img src="${image.urls.regular}" alt="${image.alt_description}" loading="lazy">
            <div class="info">
              <p class="photo-description">${image.alt_description || 'no description'}</p>
              <p class="photo-date">${image.updated_at}</p>
            </div>
          </div>`).join('');
    }

    const mount = () => {
      initTabBtns();
      initGallery();
    }

    mount();
  </script>
</body>
</html>