<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Mission01</title>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

  <!-- core -->
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/portfolio.css">
  <link rel="stylesheet" href="./css/font.css">
</head>

<body>
  <!--
    아래 구조를 각각의 의미에 맞게 시멘틱 마크업으로 변경하고
    문서화 구조를 지킬 수 있게 헤딩 태그를 맞춰가며 미션을 진행해주세요!
  -->
	<div class="box">
		<header id="header">
			<div class="header-wrapper">

				<h1 class="header-wrapper__title">KIMTAEKJU</h1>
	
				<nav class="navigation">
					<button
						class="navigation__about navigation--btn" 
						type="button"
						onClick="handleClickNavigation(event)"
					>
						<h2 class="navigation__text navigation__text--bold">About</h2>
					</button>

					<button 
						class="navigation__timeline navigation--btn"
						type="button"
						onClick="handleClickNavigation(event)"
					>
						<h2 class="navigation__text">Timeline</h2>
					</button>

					<button 
						class="navigation__portfolio navigation--btn"
						type="button"
						onClick="handleClickNavigation(event)"
					>
						<h2 class="navigation__text">PORTFOLIO</h2>
					</button>

					<button 
						class="navigation__contact navigation--btn"
						type="button"
						onClick="handleClickNavigation(event)"
					>
						<h2 class="navigation__text">CONTACT</h2>
					</button>
				</nav>

				<button
					class="header-wrapper__btn"
					type="button"
					onclick="handleClickNavigationNotDesktop(event)"
				>
					<img 
						class="header-wrapper__menu" 
						src="./assets/images/icon/menu.svg"
					/>
				</button>
			
			</div>
		</header>

		<main class="main">
			<div class="about-container">
				<section class="introduce">
					<div class="introduce__title-box">
						<img 
							class="introduce__icon" 
							src="./assets/images/icon/clap.svg"
						/>
						<h2 class="introduce__title">
							I'm <span class="introduce__bold introduce__bold--color">Frontend Developer</span>
						</h2>
					</div>
					<h3 class="introduce__content">
						안녕하세요.
						<br/>
						프론트엔드 개발자 김택주입니다.
					</h3>
				</section>

				<section class="skil">
					<div class="skil-icon">
		
							<img class="skil-icon__icon" src="./assets/images/icon/HTML5.svg"/>
							<img class="skil-icon__icon" src="./assets/images/icon/CSS3.svg"/>
							<img class="skil-icon__icon" src="./assets/images/icon/JavaScript.svg"/>
							<img class="skil-icon__icon" src="./assets/images/icon/Figma.svg"/>
							<img class="skil-icon__icon" src="./assets/images/icon/vue.svg"/>
							<img class="skil-icon__icon" src="./assets/images/icon/react.svg"/>
							<img class="skil-icon__icon" src="./assets/images/icon/svelt.svg"/>
					</div>
				</section>
			</div>

			<div class="timeline-container">
				<div class="timeline-wrapper">
					<article class="timeline-wrapper-title"> 
						<h3 class="timeline-wrapper-title__sub-title">TIMELINE</h3>
						<h2 class="timeline-wrapper-title__main-title">수상 및 활동</h2>
					</article>

					<div class="timeline-wrapper-history">
						
					</div>
				</div>
			</div>

		</main>

		<main class="portfolio-main">
			<div class="portfolio-container">
				<section class="portfolio-container__title">
					<h3 class="portfolio-container__sub-title">PORTFOLIO</h3>
					<h2 class="portfolio-container__main-title">포트폴리오</h2>
				</section>

				<section class="portfolio-section">
					<div class="portfolio-layout">
						<Button class="portfolio-layout__img portfolio-layout__img--item1">
							<div class="portfolio-layout__img-modal-1"></div>
						</Button>

						<Button class="portfolio-layout__img portfolio-layout__img--item2">
							<div class="portfolio-layout__img-modal-2"></div>
						</Button>

						<Button class="portfolio-layout__img portfolio-layout__img--item3">
							<div class="portfolio-layout__img-modal-3"></div>
						</Button>

						<Button class="portfolio-layout__img portfolio-layout__img--item4">
							<div class="portfolio-layout__img-modal-4"></div>
						</Button>

						<Button class="portfolio-layout__img portfolio-layout__img--item5">
							<div class="portfolio-layout__img-modal-5"></div>
						</Button>
					</div>
				</section>
				<div class="modal" aria-hidden="true">
					<div class="modal-wrapper">
						<button class="close" aria-label="모달 닫기" autofocus onclick="closeModal('normal');">
							<span class="material-symbols-outlined">close</span>
						</button>
				
						<img
							class="modal-wrapper__portfolio-img"
						/>

						<div class="modal-content">
							<div class="content-info">
								<div class="content-info__title">
									<h2 class="content-info__title-font"></h2>
								</div>
								<div class="content-info__infomation">
									<img 
										class="content-info__info-icon" 
										src="../week2_mission/assets/images/icon/terminal.svg"
									/>
									<h3 class="content-info__info-text">Barachiel</h3>
									</br/>
									<img 
										class="content-info__info-icon" 
										src="../week2_mission/assets/images/icon/calendar_today.svg"
									/>
									<h3 class="content-info__info-text">Barachiel</h3>
								</div>
							</div>

							<div class="modal-content__description">
							</div>
						</div>


					</div>
				</div>
			</div>

		</main>

		<main class="contact-main">
			<div class="contact-container">
				<section class="contact-container__title">
					<h3 class="contact-container__sub-title">GET IN TOUCH</h3>
					<h2 class="contact-container__main-title">연락하기</h2>
				</section>

				<section class="form-container">
					<div class="form-user-info">
						<div class="user-info-box">
							<img
								class="user-info-box__icon"
								src="../week2_mission/assets/images/icon/mail.svg"
							/>
							<h3 class="user-info-box__text user-info-box__text--underline">kty0529@gmail.com</h3>
						</div>
						<div class="user-info-box">
							<img
								class="user-info-box__icon"
								src="../week2_mission/assets/images/icon/phone_enabled.svg"
							/>
							<h3 class="user-info-box__text user-info-box__text--underline">010-6512-5882</h3>
						</div>
						<div class="user-info-box">
							<img
								class="user-info-box__icon"
								src="../week2_mission/assets/images/icon/Frame.svg"
							/>
							<h3 class="user-info-box__text user-info-box__text--underline">https://github.com/kty0529</h3>
						</div>
						<div class="user-info-box">
							<img
								class="user-info-box__icon"
								src="../week2_mission/assets/images/icon/location_on.svg"
							/>
							<h3 class="user-info-box__text">서울시 관악구</h3>
						</div>
					</div>

					<div class="form-data-info">
						<form class="form-box">
							<input class="form-box__input-name"/>
							<input class="form-box__input-email"/>
							<textarea class="form-box__textarea"></textarea>
							<button class="form-box__submit"></button>
							<div class="mail-icon-box">
								<img/>
							</div>
						</form>
					</div>
				</section>
			</div>

		</main>

		<footer class="footer">
			<h2 class="footer__text">
				Copyright 2023 
				<span class="footer__span">
					&nbsp;KIMTAEKJU&nbsp; 
				</span> 
				Allrights Reserved.
			</h2>

			<h2 class="footer__text-mobile">
				@KIMTAEKJU
			</h2>
		</footer>

		<nav class="navigation-mobile">
			<img 
				class="navigation-mobile__close" 
				src="./assets/images/icon/close.svg"
				onclick="handleClickNavigationMobileClose(event)"
			/>
			<button 
				class="navigation-mobile__box"
				onClick="handleClickNavigationMobile(event)"
			>
				<h2 
					class="navigation-mobile__text navigation-mobile__text--bold navigation-mobile__text--about"
				>
					ABOUT
				</h2>
			</button>
			<button 
				class="navigation-mobile__box"
				onClick="handleClickNavigationMobile(event)"
			>
				<h2 
					class="navigation-mobile__text navigation-mobile__text--timeline"
				>
					TIMELINE
				</h2>
			</button>
		</nav>

	</div>

  <script>
	
	let portfolioItemList = [];
	let lastFocus = undefined;

	const handleClickNavigationMobile = function(e) {

		const { target, pointerType } = e;
		const classList = getClassList(e);

		if (classList && classList.length === 2) {

			const isClickAbout = target.innerText.toUpperCase().indexOf('ABOUT') >= 0;
			classList.add('navigation-mobile__text--bold');

			if (isClickAbout) {
				document.getElementsByClassName('navigation-mobile__text')[1].classList.remove('navigation-mobile__text--bold');
				document.getElementsByClassName('about-container')[0].style.display = 'flex';
				document.getElementsByClassName('timeline-container')[0].style.display = 'none';
				document.getElementsByClassName('main')[0].classList.remove('main-no-background');

			} else {
				document.getElementsByClassName('navigation-mobile__text')[0].classList.remove('navigation-mobile__text--bold');
				document.getElementsByClassName('about-container')[0].style.display = 'none';
				document.getElementsByClassName('timeline-container')[0].style.display = 'flex';
				document.getElementsByClassName('main')[0].classList.add('main-no-background');

				// if (document.getElementsByClassName('box')[0].clientWidth <= 320) {
				// 	document.getElementsByClassName('box')[0].style.height = '1056px';
				// }
			}
		}
	}

	window.addEventListener('resize', () => {
		if (document.getElementsByClassName('box')[0].clientWidth >= 768) {
			document.getElementsByClassName('box')[0].style.height = '';
		}
	});

	const handleClickNavigationMobileClose = function(e) {
		const box = document.getElementsByClassName("box")[0];
		const header = document.getElementById("header");
		const naviMobile = document.getElementsByClassName("navigation-mobile")[0];

		box.style.background = null;
		header.style.zIndex = "1";
		naviMobile.style.display = "none";
	}

	const handleClickNavigationNotDesktop = function(e) {
		const box = document.getElementsByClassName("box")[0];
		const header = document.getElementById("header");
		const naviMobile = document.getElementsByClassName("navigation-mobile")[0];

		box.style.background = "rgba(45,52,54,0.8)";
		header.style.zIndex = "-1";
		naviMobile.style.display = "flex";
	};

    // 스크립트의 처리는 원하는대로 마음껏 처리해보세요.
	const handleClickNavigation = function(e) {

		const { target, pointerType } = e;
		const classList = getClassList(e);

		if (classList && classList.length === 1) {

			const isClickAbout = target.innerText.toUpperCase().indexOf('ABOUT') >= 0;
			const isClickTimeLine = target.innerText.toUpperCase().indexOf('TIMELINE') >= 0;
			const isClickPortFolio = target.innerText.toUpperCase().indexOf('PORTFOLIO') >= 0;

			classList.add('navigation__text--bold');
	
			if (isClickAbout) {
				classList.add('navigation__text--about');
				document.getElementsByClassName('navigation__text')[1].classList = ['navigation__text'];
				document.getElementsByClassName('about-container')[0].style.display = 'flex';
				document.getElementsByClassName('timeline-container')[0].style.display = 'none';
				document.getElementsByClassName('portfolio-container')[0].style.display = 'none';
				document.getElementsByClassName('main')[0].classList.remove('main-no-background');
			} else if (isClickTimeLine) {
				classList.add('navigation__text--timeline');
				document.getElementsByClassName('navigation__text')[0].classList = ['navigation__text'];
				document.getElementsByClassName('about-container')[0].style.display = 'none';
				document.getElementsByClassName('portfolio-container')[0].style.display = 'none';
				document.getElementsByClassName('timeline-container')[0].style.display = 'flex';
				document.getElementsByClassName('main')[0].classList.add('main-no-background');
			} else if (isClickPortFolio) {
				document.getElementsByClassName('navigation__text')[0].classList = ['navigation__text'];
				document.getElementsByClassName('navigation__text')[1].classList = ['navigation__text'];
				document.getElementsByClassName('main')[0].style.display = 'none';
				document.getElementsByClassName('portfolio-main')[0].style.display = 'flex';
				document.getElementsByClassName('main')[0].classList.add('main-no-background');
			} else {
				document.getElementsByClassName('navigation__text')[0].classList = ['navigation__text'];
				document.getElementsByClassName('navigation__text')[1].classList = ['navigation__text'];
				document.getElementsByClassName('navigation__text')[2].classList = ['navigation__text'];
				document.getElementsByClassName('portfolio-main')[0].style.display = 'none';
				document.getElementsByClassName('main')[0].style.display = 'none';
				document.getElementsByClassName('contact-main')[0].style.display = 'flex';

			}
		}
	}

	const getClassList = function(e) {

		if (e.pointerType === 'mouse') {
			return e.srcElement.classList;
		} else {
			return e.srcElement.children[0].classList;
		}
	}

    fetch('http://127.0.0.1:5500/3기/KimtaekJu/week2_mission/assets/json/timeline.json')
      .then(response => response.json())
      .then(data => {

		const historyWrapper = document.getElementsByClassName('timeline-wrapper-history')[0];

		for (let i = 0, len = data.length; i < len; i++) {
			const yearArticle = document.createElement('article');
			const contentsArticle = document.createElement('article');
			const yearH3 = document.createElement('h3');
			const contentTitleH3 = document.createElement('h3');
			const contentH4 = document.createElement('h4');

			yearH3.innerHTML = data[i].period;
			contentTitleH3.innerHTML = data[i].title;
			contentH4.innerHTML = data[i].description;

			contentTitleH3.classList = ['timeline-wrapper-history__title'];
			contentH4.classList = ['timeline-wrapper-history__content'];
			yearArticle.classList = ['timeline-wrapper-history__year'];
			contentsArticle.classList = ['timeline-wrapper-history__contents'];

			yearArticle.appendChild(yearH3);
			contentsArticle.appendChild(contentTitleH3);
			contentsArticle.appendChild(contentH4);

			historyWrapper.appendChild(yearArticle);
			historyWrapper.appendChild(contentsArticle);
		}

      });

		fetch('http://127.0.0.1:5555/3기/KimtaekJu/week2_mission/assets/json/portfolio.json')
		.then(response => response.json())
		.then(data => {
				portfolioItemList = data;
				const portfolioElementList = document.getElementsByClassName("portfolio-layout__img");

				for (let i = 0, len = portfolioElementList.length; i < len; i++) {
					portfolioElementList[i].addEventListener('click', () => openModal(i, portfolioItemList, portfolioElementList));
				}
				document.getElementsByClassName("modal")[0].addEventListener('click', (event) => {
					if ( event.target.classList.contains('modal') ) {
						closeModal();
					}
				})
				console.log(document.getElementsByClassName("portfolio-layout__img-modal-*"));
		});

	const openModal = function (i, portfolioItemList, portfolioElementList) {
		document.getElementsByClassName("modal")[0].classList.add('modal--open');
		document.documentElement.classList.add('scroll-lock');
		lastFocus = portfolioElementList[i];
		
		document.getElementsByClassName("modal-wrapper__portfolio-img")[0].src = portfolioItemList[i].src;
		document.getElementsByClassName("content-info__title-font")[0].innerHTML =  portfolioItemList[i].title;
		document.getElementsByClassName("modal-content__description")[0].innerHTML = portfolioItemList[i].description;

		const infoTextElementList = document.getElementsByClassName("content-info__info-text");
		infoTextElementList[0].innerHTML = portfolioItemList[i].languages;
		infoTextElementList[1].innerHTML = portfolioItemList[i].date;
	}

	const closeModal = function () {
		document.getElementsByClassName("modal")[0].classList.remove('modal--open');
		document.documentElement.classList.remove('scroll-lock');
		lastFocus.focus();
	}
  </script>
</body>
</html>
